function i(t){return t.replace(/([A-Z])/g," $1").trim().split(" ").join("-").toLowerCase()}function c(t){return Object.entries(t!=null?t:{}).reduce((e,[n,o])=>{const r=n.startsWith("--")?n:`--${i(n)}`;return e[r]=o,e},{})}const s=[];function h(t={}){s.forEach(n=>document.documentElement.style.removeProperty(n)),s.length=0;const e=c(t);Object.entries(e).forEach(([n,o])=>{document.documentElement.style.setProperty(n,o),s.push(n)})}function d(){const[,t,e]=window.location.hash.split("/");return{language:t,menuName:e}}function u(){const{href:t}=window.location,e=t.slice(t.indexOf("?"));return new URLSearchParams(e)}function l(t,e,n="mobile"){const o=()=>{var a;const r=n==="mobile"?(a=u().get("language"))!=null?a:"zh-CN":d().language;e(r)};w(t,o),o()}function m(t,e,n=!0){const o=r=>{const{data:a}=r;a.action==="themesChange"&&e(a.data,a.from)};window.addEventListener("message",o),n&&t.$on("hook:beforeDestroy",()=>{window.removeEventListener("message",o)}),e(g(),"default")}function w(t,e){t.$on("hook:mounted",()=>{window.addEventListener("hashchange",e),window.addEventListener("popstate",e)}),t.$on("hook:beforeDestroy",()=>{window.removeEventListener("hashchange",e),window.removeEventListener("popstate",e)})}function g(t="VARLET_THEMES"){var n;let e=window.localStorage.getItem(t);return e||(e=((n=window.matchMedia)==null?void 0:n.call(window,"(prefers-color-scheme: dark)").matches)?"darkThemes":"themes",window.localStorage.setItem(t,e)),e}function f(t,e,n){m(t,o=>{h(o==="darkThemes"?e:null),n==null||n(o)})}export{f as a,g,l as w};
