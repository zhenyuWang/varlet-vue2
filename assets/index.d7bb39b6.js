import{A as C}from"./AppType.8a316df5.js";import{d as S}from"./create.242e0646.js";import{r as y,i as k}from"./elements.9c883ade.js";import{p as T,t as l}from"./shared.f8da68a0.js";import{n as f}from"./index.6222f8b9.js";import{S as x}from"./index.45a9ced8.js";import{B as F}from"./index.e6eb8827.js";import{d as $}from"./index.079ade67.js";import{u as g,a as h,_ as b,b as D,c as M}from"./en-US.1fd70412.js";import{w as A,a as B}from"./utils.3b864b4e.js";import"./vendor.4f0eb98f.js";import"./index.32e6addf.js";import"./index.1f79a394.js";import"./zIndex.8f867e84.js";import"./index.0d796514.js";import"./lock.983a82b4.js";import"./components.1b7f472c.js";import"./Teleport.67437bea.js";import"./index.8d5eec0c.js";const E={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0}};var U=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"var-countdown"},[t._t("default",function(){return[t._v(" "+t._s(t.showTime)+" ")]},null,t.timeData)],2)},H=[];const u=1e3,c=60*u,m=60*c,p=24*m,N=S({name:"VarCountdown",props:E,data:()=>({endTime:0,isStart:!1,showTime:"",handle:0,pauseTime:0,timeData:{days:0,hours:0,minutes:0,seconds:0,milliseconds:0}}),watch:{time:{handler(){this.reset()},immediate:!0}},methods:{formatTime(t){const{onChange:s}=this.getListeners(),e=Math.floor(t/p),o=Math.floor(t%p/m),n=Math.floor(t%m/c),a=Math.floor(t%c/u),w=Math.floor(t%u),i={days:e,hours:o,minutes:n,seconds:a,milliseconds:w};this.timeData=i,s==null||s(i),this.showTime=T(this.format,i)},countdown(){const{time:t,autoStart:s,getListeners:e}=this,{onEnd:o}=e(),n=Date.now();this.endTime||(this.endTime=n+l(t));let a=this.endTime-n;if(a<0&&(a=0),this.pauseTime=a,this.formatTime(a),a===0){o==null||o();return}(s||this.isStart)&&(this.handle=y(this.countdown))},start(){this.isStart||(this.isStart=!0,this.endTime=Date.now()+(this.pauseTime||l(this.time)),this.countdown())},pause(){this.isStart=!1},reset(){this.endTime=0,this.isStart=!1,k(this.handle),this.countdown()}}}),d={};var z=f(N,U,H,!1,L,null,null,null);function L(t){for(let s in d)this[s]=d[s]}var r=function(){return z.exports}();r.install=function(t){t.component(r.name,r)};var R={basicUsage:"\u57FA\u672C\u4F7F\u7528",customFormat:"\u81EA\u5B9A\u4E49\u683C\u5F0F",showMillisecond:"\u663E\u793A\u6BEB\u79D2",customStyle:"\u81EA\u5B9A\u4E49\u6837\u5F0F",manualControl:"\u624B\u52A8\u63A7\u5236",format:"DD \u5929 HH \u65F6 mm \u5206 ss \u79D2",startText:"\u5F00\u59CB",pauseText:"\u6682\u505C",resetText:"\u91CD\u7F6E"},V={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"};const{add:v,use:j,pack:O,packs:_t,merge:ft}=g(),q=t=>{M(t),j(t)};h("zh-CN",b);h("en-US",D);v("zh-CN",R);v("en-US",V);var I=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"var-countdown-example"},[e("div",[e("app-type",[t._v(t._s(t.pack.basicUsage))]),e("var-countdown",{attrs:{time:"108000000"}})],1),e("div",[e("app-type",[t._v(t._s(t.pack.customFormat))]),e("var-countdown",{attrs:{time:"108000000",format:t.pack.format}})],1),e("div",[e("app-type",[t._v(t._s(t.pack.showMillisecond))]),e("var-countdown",{attrs:{time:"108000000",format:"HH : mm : ss : SS"}})],1),e("div",[e("app-type",[t._v(t._s(t.pack.customStyle))]),e("var-countdown",{attrs:{time:"108000000"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{staticClass:"block"},[t._v(t._s(o.hours))]),e("span",{staticClass:"colon"},[t._v(":")]),e("span",{staticClass:"block"},[t._v(t._s(o.minutes))]),e("span",{staticClass:"colon"},[t._v(":")]),e("span",{staticClass:"block"},[t._v(t._s(o.seconds))])]}}])})],1),e("div",[e("app-type",[t._v(t._s(t.pack.manualControl))]),e("var-countdown",{ref:"countdown",attrs:{time:t.time,"auto-start":!1,format:"ss : SSS"},on:{end:t.end,change:t.change}}),e("div",{staticClass:"btn-container"},[e("var-button",{attrs:{type:"primary"},on:{click:function(o){return t.$refs.countdown.start()}}},[t._v(t._s(t.pack.startText))]),e("var-button",{on:{click:function(o){return t.$refs.countdown.pause()}}},[t._v(t._s(t.pack.pauseText))]),e("var-button",{on:{click:function(o){return t.$refs.countdown.reset()}}},[t._v(t._s(t.pack.resetText))])],1)],1)])},P=[];const Y={name:"CountdownExample",components:{VarCountdown:r,VarButton:F,AppType:C},data:()=>({countdown:null,time:3e3}),computed:{pack(){return O.value}},created(){A(this,q),B(this,$)},methods:{end(){x.info("end!")},change(){console.log("change")}}},_={};var G=f(Y,I,P,!1,J,"4757e078",null,null);function J(t){for(let s in _)this[s]=_[s]}var ht=function(){return G.exports}();export{ht as default};
