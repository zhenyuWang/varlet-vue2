import{n as l,d as u,l as g,a as f,w as y,s as m,c as s,g as o,M as c}from"./index.31927c0d.js";import{A as b}from"./AnimationBox.d8431d14.js";import{g as r}from"./vendor.4f0eb98f.js";import"./main.28b49397.js";var T=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"varlet-site-mobile"},[t("div",{staticClass:"varlet-site-mobile-content"},[t("iframe",{attrs:{id:"mobile",src:"./mobile.html#/"+e.componentName+"?language="+e.language+"&platform=pc&replace="+e.replace}})])])},$=[];const C={name:"AppMobile",props:{componentName:{type:String},language:{type:String},replace:{type:String}}},p={};var M=l(C,T,$,!1,N,"10e7f29b",null,null);function N(e){for(let a in p)this[a]=p[a]}var x=function(){return M.exports}(),w=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"varlet-site-header"},[t("div",{staticClass:"varlet-site-header__lead",on:{click:e.backRoot}},[t("animation-box",{staticClass:"varlet-site-header__logo"}),e.title?t("div",{staticClass:"varlet-site-header__title"},[e._v(e._s(e.title))]):e._e()],1),t("div",{staticClass:"varlet-site-header__tail"},[e.playground?t("a",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"varlet-site-header__link",attrs:{target:"_blank",href:e.playground}},[t("var-site-icon",{attrs:{name:"code-json",size:24}})],1):e._e(),e.github?t("a",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"varlet-site-header__link",attrs:{target:"_blank",href:e.github}},[t("var-site-icon",{attrs:{name:"github",size:28}})],1):e._e(),e.darkMode?t("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"varlet-site-header__theme",on:{click:e.toggleTheme}},[t("var-site-icon",{style:{marginBottom:e.currentThemes==="darkThemes"&&"2px",marginTop:e.currentThemes==="themes"&&"2px"},attrs:{size:"26px",name:e.currentThemes==="themes"?"white-balance-sunny":"weather-night"}})],1):e._e(),e.languages?t("div",{staticClass:"varlet-site-header__language",on:{mouseenter:function(n){e.isOpenMenu=!0},mouseleave:function(n){e.isOpenMenu=!1}}},[t("var-site-icon",{attrs:{name:"translate",size:"26px"}}),t("var-site-icon",{attrs:{name:"chevron-down"}}),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenMenu,expression:"isOpenMenu"}],staticClass:"varlet-site-header__language-list var-site-elevation--5",style:{pointerEvents:e.isOpenMenu?"auto":"none"}},e._l(e.nonEmptyLanguages,function(n,i){return t("var-site-cell",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,class:{"varlet-site-header__language-list--active":e.language===i},nativeOn:{click:function(h){return e.handleLanguageChange(i)}}},[e._v(" "+e._s(n)+" ")])}),1)])],1):e._e()])])},k=[];const E=u({name:"AppHeader",props:{language:{type:String}},computed:{nonEmptyLanguages(){return g(this.languages)}},data:()=>({title:r(s,"title"),redirect:r(s,"pc.redirect"),themesKey:r(s,"themesKey"),languages:r(s,"pc.header.i18n"),playground:r(s,"pc.header.playground"),github:r(s,"pc.header.github"),darkMode:r(s,"pc.header.darkMode"),currentThemes:f(r(s,"themesKey")),isOpenMenu:!1}),created(){y(this,(e,a)=>{a==="mobile"&&this.setCurrentThemes(e)}),m(s,this.currentThemes),window.postMessage(this.getThemesMessage(),"*")},methods:{backRoot(){const{language:e}=o();this.$router.replace(`/${e}${this.redirect}`)},handleLanguageChange(e){const{menuName:a}=o();this.$router.replace(`/${e}/${a}`),this.isOpenMenu=!1},setCurrentThemes(e){this.currentThemes=e,m(s,this.currentThemes),window.localStorage.setItem(this.themesKey,this.currentThemes)},getThemesMessage(){return{action:"themesChange",from:"pc",data:this.currentThemes}},toggleTheme(){var e;this.setCurrentThemes(this.currentThemes==="darkThemes"?"themes":"darkThemes"),window.postMessage(this.getThemesMessage(),"*"),(e=document.getElementById("mobile").contentWindow)==null||e.postMessage(this.getThemesMessage(),"*")}},components:{AnimationBox:b}}),_={};var S=l(E,w,k,!1,L,"e40f45bc",null,null);function L(e){for(let a in _)this[a]=_[a]}var A=function(){return S.exports}(),I=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"varlet-site-sidebar var-elevation--3"},e._l(e.menu,function(n,i){return t("var-site-cell",{directives:[{name:"ripple",rawName:"v-ripple",value:{touchmoveForbid:!1,disabled:n.type===e.menuTypes.TITLE,color:e.themes["color-side-bar"]},expression:`{
      touchmoveForbid: false,
      disabled: item.type === menuTypes.TITLE,
      color: themes['color-side-bar']
    }`}],key:i,staticClass:"varlet-site-sidebar__item",class:{"varlet-site-sidebar__item--active":n.doc===e.menuName,"varlet-site-sidebar__link":n.type!==e.menuTypes.TITLE,"varlet-site-sidebar__title":n.type===e.menuTypes.TITLE},attrs:{id:n.doc},nativeOn:{click:function(h){return e.changeRoute(n)}}},[n.type===e.menuTypes.TITLE?t("span",{staticClass:"varlet-site-sidebar__item--title"},[e._v(e._s(n.text[e.language]))]):t("span",[e._v(e._s(n.text[e.language]))])])}),1)},O=[];const R=u({name:"AppSidebar",props:{menu:{type:Array},menuName:{type:String},language:{type:String}},data:()=>({menuTypes:c,themes:r(s,"themes")}),methods:{changeRoute(e){e.type===c.TITLE||this.menuName===e.doc||this.$emit("change",e)}}}),d={};var B=l(R,I,O,!1,F,"04d8fb13",null,null);function F(e){for(let a in d)this[a]=d[a]}var j=function(){return B.exports}(),z=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"varlet-site"},[t("app-header",{attrs:{language:e.language}}),t("div",{staticClass:"varlet-site-content"},[t("app-sidebar",{attrs:{language:e.language,menu:e.menu,"menu-name":e.menuName},on:{change:e.handleSidebarChange}}),t("div",{ref:"doc",staticClass:"varlet-site-doc-container",class:[!e.useMobile&&"varlet-site-doc-container--pc-only"]},[t("router-view")],1),t("app-mobile",{directives:[{name:"show",rawName:"v-show",value:e.useMobile,expression:"useMobile"}],attrs:{"component-name":e.componentName,language:e.language,replace:e.menuName}})],1)],1)},K=[];const H=u({components:{AppMobile:x,AppHeader:A,AppSidebar:j},data:()=>({defaultLanguage:r(s,"defaultLanguage"),menu:r(s,"pc.menu",[]),useMobile:r(s,"useMobile"),mobileRedirect:r(s,"mobile.redirect"),language:"",componentName:null,menuName:""}),mounted(){this.init()},watch:{"$route.path":{handler(){const{language:e,menuName:a}=o();!e||!a||(this.componentName=this.getComponentNameByMenuName(a),this.menuName=a,this.language=e,document.title=r(s,"pc.title")[e])},immediate:!0}},methods:{getComponentNameByMenuName(e){const a=this.menu.find(t=>t.doc===e);return(a==null?void 0:a.type)===c.COMPONENT?e:this.mobileRedirect.slice(1)},init(){const{menuName:e}=o();this.$nextTick(()=>{var n;const a=(n=document.querySelector(".varlet-site-sidebar"))==null?void 0:n.getElementsByClassName("var-site-cell"),t=this.menu.findIndex(i=>i.doc===e);t!==-1&&a[t].scrollIntoView({block:"center",inline:"start"})})},handleSidebarChange(e){this.$refs.doc.scrollTop=0,this.componentName=this.getComponentNameByMenuName(e.doc),this.menuName=e.doc}}}),v={};var P=l(H,z,K,!1,q,null,null,null);function q(e){for(let a in v)this[a]=v[a]}var J=function(){return P.exports}();export{J as default};
