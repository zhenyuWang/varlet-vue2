var B=Object.defineProperty;var m=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var v=(t,e,a)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,c=(t,e)=>{for(var a in e||(e={}))E.call(e,a)&&v(t,a,e[a]);if(m)for(var a of m(e))I.call(e,a)&&v(t,a,e[a]);return t};import{A as S}from"./AppType.8a316df5.js";import{B as x}from"./index.e6eb8827.js";import{d as _}from"./create.242e0646.js";import{i as A}from"./shared.f8da68a0.js";import{a as $,c as F}from"./relation.9e421618.js";import{h as L}from"./elements.9c883ade.js";import{n as l}from"./index.6222f8b9.js";import{R as P}from"./index.8d5eec0c.js";import{B as w}from"./index.4335e576.js";import{I as C}from"./index.1f79a394.js";import{S as b}from"./index.45a9ced8.js";import{d as U}from"./index.079ade67.js";import{u as M,a as k,_ as D,b as R,c as z}from"./en-US.1fd70412.js";import{w as T,a as j}from"./utils.3b864b4e.js";import"./index.32e6addf.js";import"./components.1b7f472c.js";import"./vendor.4f0eb98f.js";import"./index.0d796514.js";import"./zIndex.8f867e84.js";import"./lock.983a82b4.js";import"./Teleport.67437bea.js";const H={active:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},activeColor:{type:String},inactiveColor:{type:String},onChange:{type:Function},onBeforeChange:{type:Function},onFabClick:{type:Function},fabProps:{type:Object}};var K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bottomNavigationDom",staticClass:"var-bottom-navigation",class:[t.fixed?"var-bottom-navigation--fixed":null,t.border?"var-bottom-navigation--border":null],style:"z-index:"+t.zIndex},[t._t("default"),t.$slots.fab?a("var-button",t._b({staticClass:"var-bottom-navigation__fab",class:t.bottomNavigationItems.length%2?"var-bottom-navigation--fab-right":"var-bottom-navigation--fab-center",attrs:{round:""},on:{click:t.handleFabClick}},"var-button",t._fabProps,!1),[t._t("fab")],2):t._e()],2)},V=[];const g="var-bottom-navigation-item--right-half-space",h="var-bottom-navigation-item--left-half-space",p="var-bottom-navigation-item--right-space",G={type:"primary"},O=_({name:"VarBottomNavigation",components:{VarButton:x},mixins:[$("bottomNavigation",{childrenKey:"bottomNavigationItems"})],inheritAttrs:!1,props:H,data:()=>({_fabProps:{}}),watch:{async bottomNavigationItems(){await L(),this.matchBoundary(),this.removeMarginClass(),!!this.$slots.fab&&this.addMarginClass()},fabProps:{handler(t){this._fabProps=c(c({},G),t)},immediate:!0,deep:!0}},methods:{matchBoundary(){this.bottomNavigationItems.length===0||this.matchName()||this.matchIndex()||this.handleActiveIndex()},matchName(){return this.bottomNavigationItems.find(({name:t})=>this.active===t)},matchIndex(){return this.bottomNavigationItems.find(({index:t})=>this.active===t)},handleActiveIndex(){var e,a,i,o;if(!A(this.active))return;const{getListeners:t}=this;this.active<0?((a=(e=t())["onUpdate:active"])==null||a.call(e,0),this.itemsSetCurrent(0)):this.active>this.bottomNavigationItems.length-1&&((o=(i=t())["onUpdate:active"])==null||o.call(i,this.bottomNavigationItems.length-1),this.itemsSetCurrent(this.bottomNavigationItems.length-1))},itemsSetCurrent(t){this.bottomNavigationItems.forEach(e=>{e.setCurrent(t)})},onToggle(t){if(t===this.active)return;const{getListeners:e}=this;e().onBeforeChange?this.handleBeforeChange(t):this.handleChange(t)},handleBeforeChange(t){var a,i;const{getListeners:e}=this;Promise.resolve((i=(a=e()).onBeforeChange)==null?void 0:i.call(a,t)).then(o=>o&&this.handleChange(t))},handleChange(t){var a,i,o,n;const{getListeners:e}=this;(i=(a=e())["onUpdate:active"])==null||i.call(a,t),this.itemsSetCurrent(t),(n=(o=e()).onChange)==null||n.call(o,t)},getBottomNavigationItems(){return Array.from(this.$refs.bottomNavigationDom.querySelectorAll(".var-bottom-navigation-item"))},removeMarginClass(){this.getBottomNavigationItems().forEach(t=>{t.classList.remove(g,h,p)})},addMarginClass(){const t=this.bottomNavigationItems.length%2===0;this.getBottomNavigationItems().forEach((e,a)=>{this.handleMarginClass(t,e,a,this.bottomNavigationItems.length)})},handleMarginClass(t,e,a,i){const o=a===i-1;if(!t&&o){e.classList.add(p);return}const n=a===i/2-1,N=a===i/2;n?e.classList.add(g):N&&e.classList.add(h)},handleFabClick(){var e,a;const{getListeners:t}=this;(a=(e=t()).onFabClick)==null||a.call(e)}}}),u={};var q=l(O,K,V,!1,J,null,null,null);function J(t){for(let e in u)this[e]=u[e]}var s=function(){return q.exports}();s.install=function(t){t.component(s.name,s)};const Q={name:{type:String},icon:{type:String},label:{type:String},namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:{type:Function}};var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{directives:[{name:"ripple",rawName:"v-ripple"}],ref:"bottomNavigationItem",staticClass:"var-bottom-navigation-item",style:{color:t.computeColorStyle()},on:{click:t.handleClick}},[t.icon&&!t.$slots.icon?a("var-icon",{staticClass:"var-bottom-navigation-item__icon",attrs:{name:t.icon,namespace:t.namespace}}):t._e(),t._t("icon",null,{active:t.isActive}),t.badge?a("var-badge",t._b({staticClass:"var-bottom-navigation-item__badge"},"var-badge",t.badgeProps,!1)):t._e(),a("span",{staticClass:"var-bottom-navigation-item__label"},[t.$slots.default?t._e():[t._v(" "+t._s(t.label)+" ")],t._t("default")],2)],2)},X=[];const Y={type:"danger",dot:!0},Z=_({name:"VarBottomNavigationItem",components:{VarBadge:w,VarIcon:C},directives:{Ripple:P},mixins:[F("bottomNavigation",{parentKey:"bottomNavigation",childrenKey:"bottomNavigationItems"})],inheritAttrs:!1,props:Q,data:()=>({isActive:!1,badgeProps:{}}),mounted(){this.isActive=this.name===this.bottomNavigation.active||this.index===this.bottomNavigation.active,this.isActive&&this.$refs.bottomNavigationItem.classList.add("var-bottom-navigation-item--active")},watch:{badge:{handler(t){this.badgeProps=t===!0?Y:this.badge},immediate:!0}},methods:{computeColorStyle(){const{activeColor:t,inactiveColor:e}=this.bottomNavigation;return this.isActive?t:e},setCurrent(t){const e=t===this.index||t===this.name;e!==this.isActive&&(this.isActive=e,this.isActive?this.$refs.bottomNavigationItem.classList.add("var-bottom-navigation-item--active"):this.$refs.bottomNavigationItem.classList.remove("var-bottom-navigation-item--active"))},handleClick(){var o,n;const{name:t,getListeners:e,index:a}=this,i=t!=null?t:a;(n=(o=e()).onClick)==null||n.call(o,i),this.bottomNavigation.onToggle(i)}}}),d={};var tt=l(Z,W,X,!1,at,null,null,null);function at(t){for(let e in d)this[e]=d[e]}var r=function(){return tt.exports}();r.install=function(t){t.component(r.name,r)};var et={basicUsage:"\u57FA\u672C\u4F7F\u7528",matchByName:"\u901A\u8FC7\u540D\u79F0\u5339\u914D",showBadge:"\u5FBD\u6807\u63D0\u793A",customColor:"\u81EA\u5B9A\u4E49\u989C\u8272",changeEvent:"\u76D1\u542C\u5207\u6362\u4E8B\u4EF6",clickEvent:"\u76D1\u542C\u70B9\u51FB\u4E8B\u4EF6",fab:"\u60AC\u6D6E\u6309\u94AE",label:"\u6807\u7B7E"},it={basicUsage:"Basic Usage",matchByName:"Match by name",showBadge:"Show Badge",customColor:"Custom Color",changeEvent:"Change Event",clickEvent:"Click Event",fab:"Fab",label:"label"};const{add:y,use:ot,pack:nt,packs:wt,merge:Ut}=M(),st=t=>{z(t),ot(t)};k("zh-CN",D);k("en-US",R);y("zh-CN",et);y("en-US",it);var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottom-navigation-example"},[a("app-type",[t._v(t._s(t.pack.basicUsage))]),a("var-bottom-navigation",{attrs:{active:t.basicUsage},on:{"update:active":function(i){t.basicUsage=i}}},[a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"home"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"magnify"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"heart"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"account-circle"}})],1),a("app-type",[t._v(t._s(t.pack.matchByName))]),a("var-bottom-navigation",{attrs:{active:t.matchByName},on:{"update:active":function(i){t.matchByName=i}}},[a("var-bottom-navigation-item",{attrs:{name:"home",label:t.pack.label,icon:"home"}}),a("var-bottom-navigation-item",{attrs:{name:"search",label:t.pack.label,icon:"magnify"}}),a("var-bottom-navigation-item",{attrs:{name:"heart",label:t.pack.label,icon:"heart"}}),a("var-bottom-navigation-item",{attrs:{name:"user",label:t.pack.label,icon:"account-circle"}})],1),a("app-type",[t._v(t._s(t.pack.showBadge))]),a("var-bottom-navigation",{attrs:{active:t.showBadge},on:{"update:active":function(i){t.showBadge=i}}},[a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"home"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"magnify",badge:""}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"heart",badge:t.badgeProps}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"account-circle"}})],1),a("app-type",[t._v(t._s(t.pack.customColor))]),a("var-bottom-navigation",{attrs:{"active-color":"#ba68c8",active:t.customColor},on:{"update:active":function(i){t.customColor=i}}},[a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"home"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"magnify"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"heart"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"account-circle"}})],1),a("app-type",[t._v(t._s(t.pack.changeEvent))]),a("var-bottom-navigation",{attrs:{active:t.changeEvent},on:{"update:active":function(i){t.changeEvent=i},change:t.handleChange}},[a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"home"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"magnify"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"heart"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"account-circle"}})],1),a("app-type",[t._v(t._s(t.pack.clickEvent))]),a("var-bottom-navigation",{attrs:{active:t.clickEvent},on:{"update:active":function(i){t.clickEvent=i}}},[a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"home"},on:{click:t.handleClick}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"magnify"},on:{click:t.handleClick}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"heart"},on:{click:t.handleClick}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"account-circle"},on:{click:t.handleClick}})],1),a("app-type",[t._v(t._s(t.pack.fab))]),a("var-bottom-navigation",{staticStyle:{"margin-top":"10px"},attrs:{active:t.fab},on:{"update:active":function(i){t.fab=i},"fab-click":function(i){t.isEven=!t.isEven}},scopedSlots:t._u([{key:"fab",fn:function(){return[a("var-icon",{attrs:{name:"heart"}})]},proxy:!0}])},[a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"home"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"magnify"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"heart"}}),a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"bell"}}),t.isEven?t._e():a("var-bottom-navigation-item",{attrs:{label:t.pack.label,icon:"account-circle"}})],1)],1)},ct=[];const lt={name:"BottomNavigationExample",components:{VarBottomNavigation:s,VarBottomNavigationItem:r,VarIcon:C,AppType:S},data:()=>({basicUsage:0,matchByName:"home",showBadge:0,badgeProps:{type:"primary",value:"66"},customColor:0,changeEvent:0,clickEvent:0,fab:0,isEven:!0}),computed:{pack(){return nt.value}},created(){T(this,st),j(this,U)},methods:{handleChange(t){b.info(`changed to ${t}`)},handleClick(t){b.success(`clicked ${t}`)}}},f={};var mt=l(lt,rt,ct,!1,vt,null,null,null);function vt(t){for(let e in f)this[e]=f[e]}var Mt=function(){return mt.exports}();export{Mt as default};
